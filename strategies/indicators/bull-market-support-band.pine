// Source: TradingView Community Script (Bull Market Support Band)
// Attribution: Based on widely shared community implementations (20W SMA + 21W EMA)
// References: https://www.tradingview.com/script/uSBR7cFa-Bull-Market-Support-Band-20w-SMA-21w-EMA/
// Used as input for AI-powered strategy conversion

//@version=5
indicator("Bull Market Support Band", overlay=true, timeframe="W", timeframe_gaps=true)

source = close
smaLength = input.int(20, title="SMA Length")
emaLength = input.int(21, title="EMA Length")

sma20 = ta.sma(source, smaLength)
ema21 = ta.ema(source, emaLength)

outSma = request.security(syminfo.tickerid, "W", sma20)
outEma = request.security(syminfo.tickerid, "W", ema21)

smaPlot = plot(outSma, color=color.red, title="20w SMA")
emaPlot = plot(outEma, color=color.green, title="21w EMA")
fill(smaPlot, emaPlot, color=color.new(color.orange, 75), fillgaps=true)
